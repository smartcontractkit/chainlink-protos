syntax = "proto3";

package node;

option go_package = "github.com/smartcontractkit/chainlink-protos/orchestrator/node";

// RPC methods that the JD will call on the node.
service NodeService {
  // ProposeJob is called by the JD to propose a job to the node.
  rpc ProposeJob(ProposeJobRequest) returns (ProposeJobResponse);
  // DeleteJob is called by the JD to delete a job from the node.
  rpc DeleteJob(DeleteJobRequest) returns (DeleteJobResponse);
  // RevokeJob is called by the JD to revoke a job from the node.
  rpc RevokeJob(RevokeJobRequest) returns (RevokeJobResponse);
}

message ProposeJobRequest {
  string id = 1;
  string spec = 2;
  repeated string multiaddrs = 3;
  int64 version = 4;
}
message ProposeJobResponse { string id = 2; }

message DeleteJobRequest { string id = 1; }
message DeleteJobResponse { string id = 1; }

message RevokeJobRequest { string id = 1; }
message RevokeJobResponse { string id = 1; }
